{"version":3,"sources":["jquery.crashreport.js","errorHandler.js","logService.js"],"names":["$","defaultOptions","url","application","applicationVersion","fn","crashReport","options","init","instanceOptions","extend","logService","LogService","ErrorHandler","jQuery","window","onerror","onError","messageText","lineNumber","columnNumber","errorObject","self","throttling","errorDescriptor","getErrorDescriptor","lastError","clearTimeout","throttleTimer","setTimeout","throttleTimeout","logException","this","log","message","resultMessage","module","version","ajax","contentType","method","crossDomain","data","JSON","stringify","trace","TimeStamp","LogLevel","logLevels","Trace","MessageText","StackTrace","AdditionalInformation","UserId","PersonId","InnerException","formattedMessage","additionalInformation","location","href","navigator","userAgent","Fatal","stack","Debug","Error","Warn","Info"],"mappings":"CAAA,SAAAA,GACA,GAAAC,IACAC,IAAA,GACAC,YAAA,GACAC,mBAAA,MAGAJ,GAAAK,GAAAC,YAAA,SAAAC,GAGA,QAAAC,KACA,GAAAC,GAAAT,EAAAU,UAAAT,EAAAM,GAEAI,EAAA,GAAAX,GAAAK,GAAAC,YAAAM,WAAAH,EACA,IAAAT,GAAAK,GAAAC,YAAAO,aAAAF,GANAH,MASAM,QCjBA,SAAAd,GAGA,QAAAa,GAAAF,GAUA,QAAAH,KACAO,OAAAC,QAAAC,EAGA,QAAAA,GAAAC,EAAAhB,EAAAiB,EAAAC,EAAAC,GACA,GAAAC,EAAAC,WAAA,CACA,GAAAC,GAAAC,EAAAP,EAAAhB,EAAAiB,EAAAC,EAEA,IAAAI,GAAAF,EAAAI,UACA,MAEAC,cAAAL,EAAAM,eACAN,EAAAM,cAAAC,WAAA,WAAAP,EAAAI,UAAA,MAAAJ,EAAAQ,iBAEAR,EAAAI,UAAAF,EAGAb,EAAAoB,aAAAb,EAAAhB,EAAAiB,EAAAC,EAAAC,GAGA,QAAAI,GAAAP,EAAAhB,EAAAiB,EAAAC,GACA,MAAAF,GAAAhB,EAAAiB,EAAAC,EA9BA,GAAAE,GAAAU,IAEAV,GAAAC,YAAA,EACAD,EAAAQ,gBAAA,IACAR,EAAAI,UAAA,KACAJ,EAAAM,cAAA,KAEApB,IAVAR,EAAAU,OAAAV,EAAAK,GAAAC,aAAAO,aAAAA,KAoCAC,QCrCA,SAAAd,GAGA,QAAAY,GAAAL,GAwBA,QAAA0B,GAAAC,GACA,GAAAC,GAAAnC,EAAAU,QACA0B,OAAAd,EAAAf,QAAAJ,YACAkC,QAAAf,EAAAf,QAAAH,oBACA8B,EAEAlC,GAAAsC,MAEApC,IAAAoB,EAAAf,QAAAL,IACAqC,YAAA,mBACAC,OAAA,OACAC,aAAA,EACAC,KAAAC,KAAAC,UAAAT,KAIA,QAAAU,GAAA3B,GACA,GAAAgB,IACAY,UAAA,KACAC,SAAAC,EAAAC,MACAC,YAAAhC,EACAiC,WAAA,KACAC,sBAAA,KACAC,OAAA,EACAC,SAAA,EACAC,eAAA,KAGAjC,GAAAW,IAAAC,GAGA,QAAAH,GAAAb,EAAAhB,EAAAiB,EAAAC,EAAAC,GACA,GAAAmC,GAAAtC,EAAA,QAAAhB,EAAA,MAAAiB,EAAA,IAAAC,EAAA,IACAqC,EAAA,EACAA,IAAA,qBAAA1C,OAAA2C,SAAAC,KAAA,OACAF,GAAA,eAAAG,UAAAC,UAAA,MAEA,IAAA3B,IACAY,UAAA,KACAC,SAAAC,EAAAc,MACAZ,YAAAM,EACAL,WAAA9B,EAAA0C,OAAA,qBACAX,sBAAAK,EACAJ,OAAA,EACAC,SAAA,EACAC,eAAA,KAGAjC,GAAAW,IAAAC,GAvEA,GAAAZ,GAAAU,KAEA/B,GACAC,IAAA,GACAC,YAAA,UACAC,mBAAA,MAGAkB,GAAAf,QAAAP,EAAAU,UAAAT,EAAAM,GAEAe,EAAAW,IAAAA,EACAX,EAAAuB,MAAAA,EACAvB,EAAAS,aAAAA,CAEA,IAAAiB,IACAc,MAAA,EACAE,MAAA,EACAC,MAAA,EACAhB,MAAA,EACAiB,KAAA,EACAC,KAAA,GAvBAnE,EAAAU,OAAAV,EAAAK,GAAAC,aAAAM,WAAAA,KA6EAE","file":"jquery.crashreport.min.js","sourcesContent":["(function ($) {\r\n\tvar defaultOptions = {\r\n\t\turl: '',\r\n\t\tapplication: '',\r\n\t\tapplicationVersion: '0.0'\r\n\t};\r\n\r\n\t$.fn.crashReport = function (options) {\r\n\t\tinit();\r\n\r\n\t\tfunction init() {\r\n\t\t\tvar instanceOptions = $.extend({}, defaultOptions, options);\r\n\t\t\t\r\n\t\t\tvar logService = new $.fn.crashReport.LogService(instanceOptions);\r\n\t\t\tvar errorHandler = new $.fn.crashReport.ErrorHandler(logService);\r\n\t\t};\r\n\t};\r\n})(jQuery);","(function ($) {\r\n\t$.extend($.fn.crashReport, { ErrorHandler: ErrorHandler });\r\n\r\n\tfunction ErrorHandler(logService) {\r\n\t\tvar self = this;\r\n\r\n\t\tself.throttling = true;\r\n\t\tself.throttleTimeout = 2000;\r\n\t\tself.lastError = null;\r\n\t\tself.throttleTimer = null;\r\n\r\n\t\tinit();\r\n\r\n\t\tfunction init() {\r\n\t\t\twindow.onerror = onError;\r\n\t\t}\r\n\r\n\t\tfunction onError(messageText, url, lineNumber, columnNumber, errorObject) {\r\n\t\t\tif (self.throttling) {\r\n\t\t\t\tvar errorDescriptor = getErrorDescriptor(messageText, url, lineNumber, columnNumber);\r\n\r\n\t\t\t\tif (errorDescriptor == self.lastError)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tclearTimeout(self.throttleTimer);\r\n\t\t\t\tself.throttleTimer = setTimeout(function() { self.lastError = null; }, self.throttleTimeout);\r\n\r\n\t\t\t\tself.lastError = errorDescriptor;\r\n\t\t\t}\r\n\r\n\t\t\tlogService.logException(messageText, url, lineNumber, columnNumber, errorObject);\r\n\t\t};\r\n\r\n\t\tfunction getErrorDescriptor(messageText, url, lineNumber, columnNumber) {\r\n\t\t\treturn messageText + url + lineNumber + columnNumber;\r\n\t\t}\r\n\t}\r\n})(jQuery);","(function($) {\r\n\t$.extend($.fn.crashReport, { LogService: LogService });\r\n\r\n\tfunction LogService(options) {\r\n\t\tvar self = this;\r\n\r\n\t\tvar defaultOptions = {\r\n\t\t\turl: '',\r\n\t\t\tapplication: 'Unknown',\r\n\t\t\tapplicationVersion: '0.0'\r\n\t\t}\r\n\r\n\t\tself.options = $.extend({}, defaultOptions, options);\r\n\r\n\t\tself.log = log;\r\n\t\tself.trace = trace;\r\n\t\tself.logException = logException;\r\n\r\n\t\tvar logLevels = {\r\n\t\t\tFatal: 0,\r\n\t\t\tDebug: 1,\r\n\t\t\tError: 2,\r\n\t\t\tTrace: 3,\r\n\t\t\tWarn: 4,\r\n\t\t\tInfo: 5\r\n\t\t};\r\n\r\n\t\tfunction log(message) {\r\n\t\t\tvar resultMessage = $.extend({\r\n\t\t\t\tmodule: self.options.application,\r\n\t\t\t\tversion: self.options.applicationVersion\r\n\t\t\t}, message);\r\n\r\n\t\t\t$.ajax(\r\n\t\t\t{\r\n\t\t\t\turl: self.options.url,\r\n\t\t\t\tcontentType: 'application/json',\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\tdata: JSON.stringify(resultMessage)\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tfunction trace(messageText) {\r\n\t\t\tvar message = {\r\n\t\t\t\tTimeStamp: null,\r\n\t\t\t\tLogLevel: logLevels.Trace,\r\n\t\t\t\tMessageText: messageText,\r\n\t\t\t\tStackTrace: null,\r\n\t\t\t\tAdditionalInformation: null,\r\n\t\t\t\tUserId: 0,\r\n\t\t\t\tPersonId: 0,\r\n\t\t\t\tInnerException: null\r\n\t\t\t}\r\n\r\n\t\t\tself.log(message);\r\n\t\t};\r\n\r\n\t\tfunction logException(messageText, url, lineNumber, columnNumber, errorObject) {\r\n\t\t\tvar formattedMessage = messageText + '\\r\\n[' + url + '] [' + lineNumber + ':' + columnNumber + ']';\r\n\t\t\tvar additionalInformation = '';\r\n\t\t\tadditionalInformation += 'Current location: ' + window.location.href + '\\r\\n';\r\n\t\t\tadditionalInformation += 'User-Agent: ' + navigator.userAgent + '\\r\\n';\r\n\r\n\t\t\tvar message = {\r\n\t\t\t\tTimeStamp: null,\r\n\t\t\t\tLogLevel: logLevels.Fatal,\r\n\t\t\t\tMessageText: formattedMessage,\r\n\t\t\t\tStackTrace: (errorObject.stack || 'no stack available'),\r\n\t\t\t\tAdditionalInformation: additionalInformation,\r\n\t\t\t\tUserId: 0,\r\n\t\t\t\tPersonId: 0,\r\n\t\t\t\tInnerException: null\r\n\t\t\t}\r\n\r\n\t\t\tself.log(message);\r\n\t\t};\r\n\t}\r\n})(jQuery);"],"sourceRoot":"/source/"}